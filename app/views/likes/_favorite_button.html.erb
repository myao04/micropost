<% if current_user.favoritings?(micropost) %>

    
    <%= form_for(current_user.likes.find_by(micropost_id: micropost.id), html: { method: :delete }) do |f| %>

      
    <%= hidden_field_tag :micropost_id, micropost.id %>

      
    <%= f.submit 'Unfavorite', class: 'btn btn-danger btn-block' %>

    
<% end %>

  
<% else %>

    
    <%= form_for(current_user.likes.build) do |f| %>

      
    <%= hidden_field_tag :micropost_id, micropost.id %>

      
    <%= f.submit 'favorite', class: 'btn btn-primary btn-block' %>

    
<% end %>

  
<% end %>
